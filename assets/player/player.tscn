[gd_scene load_steps=35 format=4 uid="uid://dhskpyhdo2ssn"]

[ext_resource type="Animation" uid="uid://dnbq35xbtcp3u" path="res://assets/player/bump_shotgum.res" id="1_7dacw"]
[ext_resource type="PackedScene" uid="uid://c1yq7dou4albw" path="res://assets/guns/test gun/test_gun.tscn" id="1_t5osk"]
[ext_resource type="Animation" uid="uid://dhk76toc28sq1" path="res://assets/player/idle.res" id="2_mttic"]
[ext_resource type="PackedScene" uid="uid://bg48sy74gdep7" path="res://assets/menus/pause/pause.tscn" id="2_sfx0t"]
[ext_resource type="Animation" uid="uid://dfodigtqy3ojh" path="res://assets/player/jump.res" id="3_i2221"]
[ext_resource type="Animation" uid="uid://d4j05atnvp2qe" path="res://assets/player/look_gun.res" id="4_in0oc"]
[ext_resource type="Animation" uid="uid://bhp5qa7rxrn0p" path="res://assets/player/shoot.res" id="5_qstu0"]
[ext_resource type="Animation" uid="uid://doocukpsmonqk" path="res://assets/player/walk.res" id="6_clqbk"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_57xbc"]
friction = 0.0
rough = true

[sub_resource type="GDScript" id="GDScript_l7khq"]
script/source = "extends BasicMovement

var mouse_movement = Vector2.ZERO
func _input(event):
	if event is InputEventMouseMotion:
		mouse_movement = -event.relative * Global.mouse_sensitivity
	else:
		mouse_movement = Vector2.ZERO

var wepon_presentation : float = 0.0
func _ready() -> void:
	Global.player = self
	
	$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/look/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_FIRE)
	$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/Shot/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
	$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/bump/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
	$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/idle gun/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
	wepon_presentation = 3

func stop_look_gum():
	$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/look/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
	$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/Shot/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
	$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/bump/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
	$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/idle gun/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_FIRE)
	wepon_presentation = -1
	

func look_around(delta) -> void:
	rotation_degrees.y += ((mouse_movement.x * Global.mouse_sensitivity) + (Input.get_axis(\"look_right\",\"look_left\") * Global.joystick_sensitivity * 10)) * delta
	$Camera3D.rotation_degrees.x += ((mouse_movement.y * Global.mouse_sensitivity) + (Input.get_axis(\"look_down\",\"look_up\") * Global.joystick_sensitivity * 10)) * delta
	$Camera3D.rotation_degrees.x = max(-90,min(90,$Camera3D.rotation_degrees.x))
	
	$SubViewportContainer/SubViewport/Camera3D.global_transform = $Camera3D.global_transform
	if delta > 0:
		$Camera3D.rotation_degrees.z = Input.get_axis(\"left\",\"right\")
		
		var wepon_rotation_target = Vector2((Input.get_axis(\"look_right\",\"look_left\") * 10) + max(min(mouse_movement.x,1),-1) * 15,(Input.get_axis(\"look_down\",\"look_up\") * 10) + max(min(mouse_movement.y,1),-1) * 15)
		$SubViewportContainer/SubViewport/Camera3D/player_animations.rotation_degrees.y = lerp($SubViewportContainer/SubViewport/Camera3D/player_animations.rotation_degrees.y,wepon_rotation_target.x,2*delta)
		$SubViewportContainer/SubViewport/Camera3D/player_animations.rotation_degrees.x = lerp($SubViewportContainer/SubViewport/Camera3D/player_animations.rotation_degrees.x,wepon_rotation_target.y,2*delta)


func shot_animation():
	
	if wepon_presentation > 0:
		stop_look_gum()
	else:
		$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/look/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
		$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/Shot/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_FIRE)
		$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/bump/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
		$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/idle gun/request\",AnimationNodeOneShot.ONE_SHOT_REQUEST_ABORT)
	

func movement_plugin(delta) -> void:
	wepon_presentation -= delta
	look_around(delta)
	
	move_direction = (basis.z.normalized() * Input.get_axis(\"foward\",\"back\")) + (basis.x.normalized() * Input.get_axis(\"left\",\"right\"))
	
	
	if abs(move_direction.x) + abs(move_direction.y) > 1:
		move_direction = move_direction.normalized()
	
	if $floorCheker.is_colliding():
		if Input.get_axis(\"foward\",\"back\") != 0 or Input.get_axis(\"left\",\"right\") != 0:
			$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/Transition/transition_request\",\"state_1\")
		else:
			$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/Transition/transition_request\",\"state_0\")
	else:
		$SubViewportContainer/SubViewport/Camera3D/player_animations/AnimationTree.set(\"parameters/Transition/transition_request\",\"state_2\")
	
	if Input.is_action_just_pressed(\"jump\") and in_floor:
		jump()
	
	
	


func _on_tree_exiting() -> void:
	Global.player = null
"

[sub_resource type="CylinderShape3D" id="CylinderShape3D_fatke"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_sr4fy"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_655ry"]

[sub_resource type="Sky" id="Sky_h8ehh"]
sky_material = SubResource("PanoramaSkyMaterial_655ry")

[sub_resource type="Environment" id="Environment_pcnwn"]
background_mode = 1
sky = SubResource("Sky_h8ehh")
ambient_light_source = 2
ambient_light_color = Color(0.303233, 0.303233, 0.303233, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lod8h"]

[sub_resource type="ArrayMesh" id="ArrayMesh_qhhhk"]
_surfaces = [{
"aabb": AABB(-0.11, -0.2, -1.22, 0.22, 0.720402, 1.44),
"format": 34359742465,
"index_count": 108,
"index_data": PackedByteArray("AAADAAEAAAACAAMAAgAHAAMAAgAGAAcABgAFAAcABgAEAAUABAABAAUABAAAAAEAAgAEAAYAAgAAAAQAAQALAAUAAQAIAAsACwAOAAoACwAPAA4ABwAJAAMABwAKAAkABQAKAAcABQALAAoAAwAIAAEAAwAJAAgADgAMAA0ADgAPAAwACQAMAAgACQANAAwACAAPAAsACAAMAA8ACQASAA0ACQAQABIAEQASABAAEQATABIADQATAA4ADQASABMACgAQAAkACgARABAADgARAAoADgATABEA"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 20,
"vertex_data": PackedByteArray("zMzMvczMTL7MzEw+zMzMvczMTD7MzEw+zMzMvczMTL7MzEy+zMzMvczMTD7MzEy+zMzMPczMTL7MzEw+zMzMPczMTD7MzEw+zMzMPczMTL7MzEy+zMzMPczMTD7MzEy+rkfhvczMTD6uR2E+rkfhvczMTD6uR2G+rkfhPczMTD6uR2G+rkfhPczMTD6uR2E+rkfhvQw5BT+uR2E+rkfhvQw5BT+uR2G+rkfhPQw5BT+uR2G+rkfhPQw5BT+uR2E+rkfhvczMTD72KJy/rkfhPczMTD72KJy/rkfhvQw5BT/2KJy/rkfhPQw5BT/2KJy/")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_sl6xk"]
resource_name = "player_animations_example gun"
_surfaces = [{
"aabb": AABB(-0.11, -0.2, -1.22, 0.22, 0.720402, 1.44),
"attribute_data": PackedByteArray("AADAPgAAAAAAAAA+AACAPgAAwD4AAIA/AAAgPwAAAAAAACA/AAAAAAAAID8AAIA/AAAgPwAAgD8AAMA+AABAPwAAAD4AAAA/AADAPgAAQD8AACA/AABAPwAAID8AAEA/AAAgPwAAQD8AAMA+AACAPgAAwD4AAIA+AADAPgAAgD4AACA/AACAPgAAID8AAIA+AAAgPwAAgD4AAMA+AAAAPwAAwD4AAAA/AADAPgAAAD8AACA/AAAAPwAAID8AAAA/AAAgPwAAAD8AACA/AAAAAAAAID8AAAAAAAAgPwAAgD8AACA/AACAPwAAID8AAEA/AAAgPwAAQD8AACA/AAAAPwAAID8AAAA/AAAgPwAAgD4AACA/AACAPgAAID8AAIA+AAAgPwAAAAAAAGA/AACAPgAAID8AAIA/AABgPwAAAD8AACA/AABAPwAAID8AAAA/AAAgPwAAAD8AACA/AACAPgAAID8AAIA+AAAgPwAAgD4AACA/AABAPwAAID8AAEA/AAAgPwAAQD8AACA/AAAAPwAAID8AAAA/AAAgPwAAAD8AACA/AABAPwAAYD8AAAA/AAAgPwAAQD8AACA/AAAAPwAAID8AAAA/AAAgPwAAAD8="),
"format": 34359742487,
"index_count": 108,
"index_data": PackedByteArray("AgAMAAYAAgAJAAwABwAWAAoABwATABYAFQASABgAFQAPABIADQADABAADQAAAAMACAAOABQACAABAA4ABAAiABEABAAaACIAIwAqACAAIwAtACoAFwAdAAsAFwAfAB0AEQAfABcAEQAiAB8ACwAbAAUACwAdABsAKQAlACcAKQAsACUAHgAmABwAHgAoACYAGQArACEAGQAkACsAHgA2ACgAHgAwADYAMQA0AC4AMQA3ADQAJwA4ACkAJwA1ADgAHwAvAB0AHwAyAC8AKgAzACAAKgA5ADMA"),
"material": SubResource("StandardMaterial3D_lod8h"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 58,
"vertex_data": PackedByteArray("zMzMvczMTL7MzEw+zMzMvczMTL7MzEw+zMzMvczMTL7MzEw+zMzMvczMTD7MzEw+zMzMvczMTD7MzEw+zMzMvczMTD7MzEw+zMzMvczMTD7MzEw+zMzMvczMTL7MzEy+zMzMvczMTL7MzEy+zMzMvczMTL7MzEy+zMzMvczMTD7MzEy+zMzMvczMTD7MzEy+zMzMvczMTD7MzEy+zMzMPczMTL7MzEw+zMzMPczMTL7MzEw+zMzMPczMTL7MzEw+zMzMPczMTD7MzEw+zMzMPczMTD7MzEw+zMzMPczMTD7MzEw+zMzMPczMTL7MzEy+zMzMPczMTL7MzEy+zMzMPczMTL7MzEy+zMzMPczMTD7MzEy+zMzMPczMTD7MzEy+zMzMPczMTD7MzEy+rkfhvczMTD6uR2E+rkfhvczMTD6uR2E+rkfhvczMTD6uR2E+rkfhvczMTD6uR2E+rkfhvczMTD6uR2G+rkfhvczMTD6uR2G+rkfhPczMTD6uR2G+rkfhPczMTD6uR2G+rkfhPczMTD6uR2E+rkfhPczMTD6uR2E+rkfhPczMTD6uR2E+rkfhvQw5BT+uR2E+rkfhvQw5BT+uR2E+rkfhvQw5BT+uR2E+rkfhvQw5BT+uR2G+rkfhvQw5BT+uR2G+rkfhPQw5BT+uR2G+rkfhPQw5BT+uR2G+rkfhPQw5BT+uR2E+rkfhPQw5BT+uR2E+rkfhPQw5BT+uR2E+rkfhvczMTD72KJy/rkfhvczMTD72KJy/rkfhvczMTD72KJy/rkfhPczMTD72KJy/rkfhPczMTD72KJy/rkfhPczMTD72KJy/rkfhvQw5BT/2KJy/rkfhvQw5BT/2KJy/rkfhvQw5BT/2KJy/rkfhPQw5BT/2KJy/rkfhPQw5BT/2KJy/rkfhPQw5BT/2KJy//3//f/9/////fwAA////vwAA/3//f////3//f/9/////fwAA////v/9/AAD///+/AAD/f/9//////////3////9/AAD///+/AAD/f/9//////////3////9/AAD///+/AAD/f/9/////f/9//3////9/AAD///+/////f/9/////f/9//3////9/AAD///+/////f/9//////////3////9/AAD///+/////f/9//////////3////9/AAD///+/////f/9/////f/9/////P/9/AAD///+//38AAP///78AAP9/////v/9/AAD///+/AAD/f////7//fwAA////v////3////+//3//f////z//fwAA////v////3////+//3//f////z//f///AAD/vwAA/3////+//3///wAA/78AAP9/////v/9///8AAP+/////f////7//f/9/////P/9///8AAP+/////f////7//////////v/9/AAD///+/AAD/f////7//////////v/9/AAD///+/////f////7//////////v/9///////+/AAD/f////7//////////v/9///////+/////f////78=")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_qhhhk")

[sub_resource type="Animation" id="Animation_058qb"]
resource_name = "idle gum"
length = 0.001
tracks/0/type = "position_3d"
tracks/0/imported = true
tracks/0/enabled = true
tracks/0/path = NodePath("Armature/Skeleton3D:Bone.002")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0.0147692, 4.76837e-07, -0.321514)
tracks/1/type = "rotation_3d"
tracks/1/imported = true
tracks/1/enabled = true
tracks/1/path = NodePath("Armature/Skeleton3D:Bone.002")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, -0.707107, 0, 0, 0.707107)
tracks/2/type = "position_3d"
tracks/2/imported = true
tracks/2/enabled = true
tracks/2/path = NodePath("Armature/Skeleton3D:Bone")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = PackedFloat32Array(0, 1, 0, 0.337554, 0.414343)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1ehw5"]
_data = {
"bump_shotgum": ExtResource("1_7dacw"),
"idle": ExtResource("2_mttic"),
"idle gum": SubResource("Animation_058qb"),
"jump": ExtResource("3_i2221"),
"look_gun": ExtResource("4_in0oc"),
"shoot": ExtResource("5_qstu0"),
"walk": ExtResource("6_clqbk")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qu624"]
animation = &"walk"
use_custom_timeline = true
timeline_length = 1.0
stretch_time_scale = true
start_offset = 0.0
loop_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_botx8"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2fooc"]
animation = &"idle"
use_custom_timeline = true
timeline_length = 5.0
stretch_time_scale = true
start_offset = 0.0
loop_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nwyk4"]
animation = &"look_gun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_w6t2y"]
animation = &"bump_shotgum"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5yqv8"]
animation = &"idle gum"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1044p"]
animation = &"shoot"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_a1107"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_ube5e"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_5c7mv"]
input_0/name = "state_0"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "state_1"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "state_2"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_ce23i"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_peibh"]
animation = &"idle gum"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_h2wxv"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1og3n"]
graph_offset = Vector2(-675.338, 310.569)
nodes/Animation/node = SubResource("AnimationNodeAnimation_1044p")
nodes/Animation/position = Vector2(-600, 260)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_qu624")
"nodes/Animation 2/position" = Vector2(-900, 0)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_botx8")
"nodes/Animation 3/position" = Vector2(-1060, 120)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_2fooc")
"nodes/Animation 4/position" = Vector2(-1080, -140)
"nodes/Animation 5/node" = SubResource("AnimationNodeAnimation_nwyk4")
"nodes/Animation 5/position" = Vector2(-420, 440)
"nodes/Animation 6/node" = SubResource("AnimationNodeAnimation_w6t2y")
"nodes/Animation 6/position" = Vector2(-60, 600)
"nodes/Animation 7/node" = SubResource("AnimationNodeAnimation_5yqv8")
"nodes/Animation 7/position" = Vector2(-1060, 720)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_a1107")
nodes/OneShot/position = Vector2(560, 400)
nodes/Shot/node = SubResource("AnimationNodeOneShot_ube5e")
nodes/Shot/position = Vector2(-380, 120)
nodes/Transition/node = SubResource("AnimationNodeTransition_5c7mv")
nodes/Transition/position = Vector2(-600, -40)
nodes/bump/node = SubResource("AnimationNodeOneShot_ce23i")
nodes/bump/position = Vector2(200, 240)
"nodes/idle gun/node" = SubResource("AnimationNodeAnimation_peibh")
"nodes/idle gun/position" = Vector2(360, 520)
nodes/look/node = SubResource("AnimationNodeOneShot_h2wxv")
nodes/look/position = Vector2(-80, 120)
nodes/output/position = Vector2(780, 160)
node_connections = [&"OneShot", 0, &"bump", &"OneShot", 1, &"idle gun", &"Shot", 0, &"Transition", &"Shot", 1, &"Animation", &"Transition", 0, &"Animation 4", &"Transition", 1, &"Animation 2", &"Transition", 2, &"Animation 3", &"bump", 0, &"look", &"bump", 1, &"Animation 6", &"look", 0, &"Shot", &"look", 1, &"Animation 5", &"output", 0, &"OneShot"]

[node name="player" type="RigidBody3D"]
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
mass = 100.0
physics_material_override = SubResource("PhysicsMaterial_57xbc")
contact_monitor = true
max_contacts_reported = 5
script = SubResource("GDScript_l7khq")
speed = 12.0
jump_power = 6

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.71066, 0)
cull_mask = 1
fov = 90.0

[node name="AudioListener3D" type="AudioListener3D" parent="Camera3D"]

[node name="floorCheker" type="ShapeCast3D" parent="."]
transform = Transform3D(0.8, 0, 0, 0, 0.27, 0, 0, 0, 0.8, 0, -0.57897, 0)
shape = SubResource("CylinderShape3D_fatke")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_sr4fy")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_pcnwn")

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(1152, 648)
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712216, 0)
cull_mask = 2
fov = 90.0

[node name="player_animations" type="Node3D" parent="SubViewportContainer/SubViewport/Camera3D"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0)

[node name="Armature" type="Node3D" parent="SubViewportContainer/SubViewport/Camera3D/player_animations"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, -1, -2)

[node name="Skeleton3D" type="Skeleton3D" parent="SubViewportContainer/SubViewport/Camera3D/player_animations/Armature"]
bones/0/name = "Bone"
bones/0/parent = -1
bones/0/rest = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.337554, 0.414343)
bones/0/enabled = true
bones/0/position = Vector3(1.49012e-08, 0.277178, 0.414343)
bones/0/rotation = Quaternion(0, 0, 0, 1)
bones/0/scale = Vector3(1, 1, 1)
bones/1/name = "Bone.002"
bones/1/parent = 0
bones/1/rest = Transform3D(1, 0, 0, 0, 0, 1, 0, -1, 0, 0.0147692, 4.76837e-07, -0.321514)
bones/1/enabled = true
bones/1/position = Vector3(0.0147692, 4.76837e-07, -0.321514)
bones/1/rotation = Quaternion(-0.707107, 0, 0, 0.707107)
bones/1/scale = Vector3(1, 1, 1)
bones/2/name = "example gun"
bones/2/parent = 1
bones/2/rest = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, -0.0147692, 0.0928288, -0.337555)
bones/2/enabled = true
bones/2/position = Vector3(-0.0147692, 0.0928288, -0.337555)
bones/2/rotation = Quaternion(0.707107, 0, 0, 0.707107)
bones/2/scale = Vector3(1, 1, 1)

[node name="example gun" type="BoneAttachment3D" parent="SubViewportContainer/SubViewport/Camera3D/player_animations/Armature/Skeleton3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.11759e-08, -0.060376, -2.23517e-08)
bone_name = "example gun"
bone_idx = 2

[node name="example gun" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Camera3D/player_animations/Armature/Skeleton3D/example gun"]
visible = false
layers = 2
mesh = SubResource("ArrayMesh_sl6xk")
skeleton = NodePath("")

[node name="TestGun" parent="SubViewportContainer/SubViewport/Camera3D/player_animations/Armature/Skeleton3D/example gun" instance=ExtResource("1_t5osk")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="SubViewportContainer/SubViewport/Camera3D/player_animations"]
libraries = {
"": SubResource("AnimationLibrary_1ehw5")
}

[node name="AnimationTree" type="AnimationTree" parent="SubViewportContainer/SubViewport/Camera3D/player_animations"]
tree_root = SubResource("AnimationNodeBlendTree_1og3n")
anim_player = NodePath("../AnimationPlayer")
parameters/OneShot/active = false
parameters/OneShot/internal_active = false
parameters/OneShot/request = 0
parameters/Shot/active = false
parameters/Shot/internal_active = false
parameters/Shot/request = 0
parameters/Transition/current_state = "state_0"
parameters/Transition/transition_request = ""
parameters/Transition/current_index = 0
parameters/bump/active = false
parameters/bump/internal_active = false
parameters/bump/request = 0
parameters/look/active = false
parameters/look/internal_active = false
parameters/look/request = 0

[node name="Pause" parent="." instance=ExtResource("2_sfx0t")]
visible = false

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
[connection signal="tree_exiting" from="." to="." method="_on_tree_exiting"]
